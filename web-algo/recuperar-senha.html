<!doctype html>
<html lang="pt-br">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login — Recuperar senha</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="includes/css/main.css">
    <link rel="stylesheet" href="includes/css/auth.css">
</head>

<body class="d-flex align-items-center justify-content-center" style="min-height:100vh">
    <div class="login-card col-11 col-sm-8 col-lg-4">
        <img src="./includes/media/Logo_UCS_Vertical_PNG.png" alt="UCS" class="ucs-logo">

        <form id="changePwdForm">
            <div class="mb-2">
                <label for="username" class="form-label">Usuário</label>
                <input name="username" id="cp_username" class="form-control" required>
            </div>
            <div class="mb-2">
                <label for="password" class="form-label">Senha atual</label>
                <div class="input-group">
                    <input name="password" id="cp_old" type="password" class="form-control" required>
                    <button class="btn btn-outline-secondary" type="button" id="cp_old_eye"
                        aria-label="Mostrar/ocultar">
                        👁
                    </button>
                </div>
            </div>
            <div class="mb-2">
                <label for="new-password" class="form-label">Nova senha (7–10)</label>
                <div class="input-group">
                    <input id="cp_new" name="new-password" type="password" minlength="7" maxlength="10"
                        class="form-control" required>
                    <button class="btn btn-outline-secondary" type="button" id="cp_new_eye"
                        aria-label="Mostrar/ocultar">
                        👁
                    </button>
                </div>
            </div>
            <div class="mb-2">
                <label for="repeat-new-password" class="form-label">Repetir nova senha (7–10)</label>
                <div class="input-group">
                    <input id="cp_new2" name="repeat-new-password" type="password" minlength="7" maxlength="10"
                        class="form-control" required>
                    <button class="btn btn-outline-secondary" type="button" id="cp_new2_eye"
                        aria-label="Mostrar/ocultar">
                        👁
                    </button>
                </div>
            </div>
            <div id="cp_err" class="text-danger small mt-2" style="display:none"></div>
            <div id="cp_ok" class="text-success small mt-2" style="display:none"></div>

            <button class="btn btn-primary w-100" type="submit">Alterar</button>

            <a href="/web-algo/login.html" class="btn btn-outline-secondary w-100 mt-4">Voltar</a>
        </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="./includes/js/auth/change-password.js"></script>
    <script type="module" src="./includes/js/theme.js"></script>
    <script type="module">
        function attachEye(inputId, btnId) {
            const input = document.getElementById(inputId);
            const btn = document.getElementById(btnId);
            if (!input || !btn) return;
            btn.addEventListener('click', () => {
                input.type = input.type === 'password' ? 'text' : 'password';
            });
        }
        attachEye('password', 'login_pwd_eye');
        attachEye('cp_old', 'cp_old_eye');
        attachEye('cp_new', 'cp_new_eye');
        attachEye('cp_new2', 'cp_new2_eye');
        attachEye('rg_pwd', 'rg_pwd_eye');
        attachEye('rg_pwd2', 'rg_pwd2_eye');
    </script>

</body>

</html>